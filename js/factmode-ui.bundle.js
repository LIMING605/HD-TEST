(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[7],{167:function(t,e,a){var i=a(227);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};a(24)(i,s);i.locals&&(t.exports=i.locals)},226:function(t,e,a){"use strict";var i=a(167);a.n(i).a},227:function(t,e,a){(e=a(23)(!1)).push([t.i,'\ndiv.sel01[data-v-456c1a24]{\n  display:inline-block;\n  position:relative;\n  z-index:2;\n  font-size:1.6rem;\n  line-height:3.6rem;\n  width:8rem;\n  flex:1;\n  box-sizing:border-box;\n}\ndiv.sel01[data-v-456c1a24]:before{content:"";position:absolute;width:0;height:0;border:.5rem solid transparent;\nborder-top-color:#e92f26;top:50%;left:0rem;cursor:pointer;z-index:-2;margin-top:-0.25rem;}\ndiv.sel01 select[data-v-456c1a24]{width:100%;border:none;height:3.6rem;background:transparent;background-image:none;-webkit-appearance:none;-moz-appearance:none;vertical-align:top;padding-left:1rem;}\ndiv.sel01 select[data-v-456c1a24]:focus{outline:none;}\ndiv.top_menu[data-v-456c1a24] {\n  float: left;\n\tborder-right: 1px solid var(--separator-color);\n  overflow-y: auto;\n\theight: 100%;\n\tmax-height: 200px;\n  width: 50%;\n}\ndiv.bottom_menu[data-v-456c1a24] {\n  height: 100%;\n  float: left;\n\tborder-right: 1px solid var(--separator-color);\n  overflow-y: auto;\n}\ndiv.detail_block[data-v-456c1a24] {\n\theight: 41px;\n  width: auto;\n\tborder-bottom: 1px solid var(--separator-color);\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\ndiv.title_color[data-v-456c1a24] {height:20px;background:#aeaeae;display: flex; justify-content: center;}\ndiv.info_bar[data-v-456c1a24] {\n  display: flex;\n  height: 30px;\n  justify-content: space-between;\n  align-items: center;\n}\ndiv.conquer[data-v-456c1a24] {\n\tborder-bottom: 1px solid var(--separator-color);\n}\ndiv.proc_bar[data-v-456c1a24]{\n\tfloat: left;\n  position:relative;\n  border:1px #CCC solid; \n  height:28px;\n  width:180px;\n  margin:5px auto;\n  padding:1px ;\n}\nstrong.proc_txt[data-v-456c1a24]{\n\tposition:absolute;\n  width:180px;\n  top:4px;\n  text-align:center;\n  overflow:hidden\n}\ndiv.process[data-v-456c1a24]{\n\tbackground:#999; \n\theight:28px;\n\twidth:20px;\n\tmargin-left: -2px;\n  margin-top: -2px;\n}\nbutton.button[data-v-456c1a24] {\n    display: inline-block;\n    text-align: center;\n    padding: 5px 7px;\n    margin: 5px;\n    background-color: #efefef;\n    border-radius: 3px;\n    box-shadow: 0 1px 2px rgb(0 0 0 / 30%);\n    cursor: pointer;\n}\n.repii[data-v-456c1a24] {\n\tborder-bottom: 1px solid var(--separator-color);\n\tdisplay: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n',""]),t.exports=e},290:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"factmode",staticStyle:{height:"100%"}},[a("div",{staticStyle:{height:"49%"}},[a("div",{staticStyle:{width:"60%","border-right":"1px solid var(--separator-color)","border-bottom":"1px solid var(--separator-color)",display:"flex"}},[a("filterbox",{staticStyle:{width:"50%"},attrs:{items:t.produ_show?t.factclass:t.factorys,"min-items":"1"},model:{value:t.filtered,callback:function(e){t.filtered=e},expression:"filtered"}}),t._v(" "),a("div",{staticStyle:{display:"flex",width:"50%","flex-direction":"column-reverse","align-items":"flex-end"}},[a("span",{staticStyle:{width:"100%",display:"flex","justify-content":"center",overflow:"hidden",border:"1px solid #ccc","background-color":"#f1f1f1",cursor:"pointer"},on:{click:function(e){t.produ_show=!0}}},[t._v("产品")]),t._v(" "),a("span",{staticStyle:{width:"100%",display:"flex","justify-content":"center",overflow:"hidden",border:"1px solid #ccc","background-color":"#f1f1f1",cursor:"pointer"},on:{click:function(e){t.produ_show=!1}}},[t._v("工厂")])])],1),t._v(" "),t.produ_show?a("div",{staticClass:"top_menu",staticStyle:{width:"60%"}},t._l(t.filtered,(function(e){return a("div",{key:e.id,staticClass:"detail_block",on:{"!mouseenter":function(a){return a.stopPropagation(),t.itemOver(a,e)}}},[a("div",{staticStyle:{height:"40px"}},[a("div",{staticStyle:{"min-width":"30%",float:"left",display:"flex","align-items":"center","border-right":"1px solid var(--separator-color)"}},[a("img",{attrs:{src:e.img}}),t._v(" "),a("span",{staticStyle:{color:"black"},style:{color:t.change_color(e.rate.value)}},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticStyle:{"min-width":"33%",float:"left",display:"flex","align-items":"center",height:"40px","border-right":"1px solid var(--separator-color)","justify-content":"center"}},[a("span",[t._v(t._s(e.val)+" /"+t._s(e.max)+" ")])]),t._v(" "),a("div",{staticStyle:{float:"left","min-width":"33%",display:"flex","align-items":"center",height:"40px"}},[a("div",{staticClass:"sel01"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectClassEnd,expression:"selectClassEnd"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectClassEnd=e.target.multiple?a:a[0]},function(e){return t.selectClass(e)}]}},[a("option",{attrs:{value:"NONE"}},[t._v("选择模式")]),t._v(" "),t._l(t.factrecipe(e),(function(e,i){return a("option",{key:i,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.name)+"\n                  ")])}))],2)])])])])})),0):t._e(),t._v(" "),t.produ_show?t._e():a("div",{staticClass:"top_menu",staticStyle:{width:"60%"}},t._l(t.filtered,(function(e){return a("div",{key:e.id,staticClass:"detail_block",on:{"!mouseenter":function(a){return a.stopPropagation(),t.itemOver(a,e)}}},[a("div",{staticStyle:{height:"40px"}},[a("div",{staticStyle:{"min-width":"19%",float:"left",display:"flex","align-items":"center","border-right":"1px solid var(--separator-color)"}},[a("span",{staticStyle:{width:"100%",height:"40px",display:"flex","align-items":"center","justify-content":"space-evenly","font-size":"smaller"}},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticStyle:{"min-width":"20%",float:"left",display:"flex","align-items":"center",height:"40px","border-right":"1px solid var(--separator-color)","justify-content":"center"}},[a("span",[t._v(t._s(e.val)+" /"+t._s(e.max)+" ")])]),t._v(" "),a("div",{staticStyle:{"min-width":"20%",float:"left",display:"flex","align-items":"center","border-right":"1px solid var(--separator-color)"}},[a("img",{attrs:{src:"https://s1.ax1x.com/2022/05/29/XQIuDK.png",title:"占用工业用地"}}),t._v(" "),a("span",[t._v(t._s(e.mod.industry_space))])]),t._v(" "),a("div",{staticStyle:{"min-width":"20%",float:"left",display:"flex","align-items":"center","border-right":"1px solid var(--separator-color)"}},[a("img",{attrs:{src:"https://s1.ax1x.com/2022/05/29/XQIKHO.png",title:"维护所需工业电量"}}),t._v(" "),a("span",[t._v(t._s(e.mod.industry_elect))])]),t._v(" "),a("div",{staticStyle:{float:"left","min-width":"19%",display:"flex","align-items":"center",height:"40px"}},[a("button",{attrs:{disabled:!e.canbuild(t.Game)},on:{click:function(a){return t.emit("addthread",e)}}},[t._v("建造")]),t._v(" "),a("button",{attrs:{disabled:e.val<=0},on:{click:function(t){return e.amount(-1)}}},[t._v("拆除")])])])])})),0),t._v(" "),a("div",{staticClass:"top_menu",staticStyle:{width:"40%",float:"right",height:"240px","max-height":"240px","margin-top":"-40px",position:"relative"}},[a("div",{staticStyle:{display:"flex","justify-content":"center","border-bottom":"1px solid var(--separator-color)"}},[a("span",{staticStyle:{display:"flex","align-items":"center"}},[t._v(t._s(""!=this.select_class_id?t.target_rp(this.select_class_id).name:"当前选择模式信息"))])]),t._v(" "),""!=this.select_class_id?a("div",[a("div",[t._m(0),t._v(" "),a("span",[t._v(t._s(t.target_rp(this.select_class_id).desc))])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticStyle:{display:"flex",width:"100%","justify-content":"space-between"}},[a("span",{staticStyle:{width:"50%"}},[t._v("启动数量:"+t._s(t.target_rp(this.select_class_id).val)+" / "+t._s(t.target_rp(t.target_rp(this.select_class_id).thread_use).max))]),t._v(" "),a("span",{staticStyle:{width:"50%"}},[t._v("使用:"+t._s(t.target_rp(t.target_rp(this.select_class_id).thread_use).name))])]),t._v(" "),t._m(2),t._v(" "),a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{width:"50%","border-right":"1px solid var(--separator-color)"}},[a("div",{staticStyle:{height:"40px",display:"flex","align-items":"center"}},[a("img",{attrs:{src:"https://s1.ax1x.com/2022/05/29/XQIuDK.png",title:"占用工业用地"}}),t._v(" "),a("span",[t._v(t._s(t.target_rp(this.select_class_id).mod.industry_space*t.target_rp(this.select_class_id).val)+" ("+t._s(t.target_rp(this.select_class_id).mod.industry_space)+"每数量)")])]),t._v(" "),a("div",{staticStyle:{height:"40px",display:"flex","align-items":"center"}},[a("img",{attrs:{src:"https://s1.ax1x.com/2022/05/29/XQIKHO.png",title:"占用工业电量"}}),t._v(" "),a("span",[t._v(t._s(t.target_rp(this.select_class_id).mod.industry_elect*t.target_rp(this.select_class_id).val)+" ("+t._s(t.target_rp(this.select_class_id).mod.industry_elect)+"每数量)")])])]),t._v(" "),a("div",{staticStyle:{width:"50%"}},[a("div",{on:{"!mouseenter":function(e){return e.stopPropagation(),t.itemOver(e,t.target_rp_info)}}},[a("button",{staticClass:"button",attrs:{disabled:!t.target_rp(this.select_class_id).canpay(t.Game)},on:{click:function(e){return t.emit("addthread",t.target_rp_info)}}},[t._v("增加线程")])]),t._v(" "),a("div",{on:{"!mouseenter":function(e){return e.stopPropagation(),t.itemOver(e,t.target_rp_info)}}},[a("button",{staticClass:"button",attrs:{disabled:t.target_rp(this.select_class_id).val<=0},on:{click:function(e){return t.target_rp_info.amount(-1)}}},[t._v("减少线程")])])])])]):t._e()])]),t._v(" "),a("div",{staticStyle:{height:"50%"}},[a("div",{staticClass:"bottom_menu",staticStyle:{width:"30%","overflow-x":"hidden"}},[t._m(3),t._v(" "),a("div",[a("div",{staticClass:"info_bar",on:{"!mouseenter":function(e){return e.stopPropagation(),t.itemOver(e,t.industry_space)}}},[a("span",{staticStyle:{float:"left",width:"140px"}},[t._v("工业用地:")]),a("span",{staticStyle:{float:"right"}},[a("div",{staticClass:"proc_bar"},[a("div",{staticClass:"process",staticStyle:{background:"#1476f3"},style:{width:180*(t.industry_space.val/Math.floor(t.industry_space.max)>=1?1:t.industry_space.val/Math.floor(t.industry_space.max))+"px"}}),t._v(" "),a("strong",{staticClass:"proc_txt"},[t._v(t._s(t.toLarge(Math.floor(t.industry_space.val)))+" / "+t._s(t.toLarge(Math.floor(t.industry_space.max))))])])])]),t._v(" "),a("div",{staticClass:"info_bar",on:{"!mouseenter":function(e){return e.stopPropagation(),t.itemOver(e,t.industry_elect)}}},[a("span",{staticStyle:{float:"left",width:"140px"}},[t._v("工业电量:")]),a("span",{staticStyle:{float:"right"}},[a("div",{staticClass:"proc_bar"},[a("div",{staticClass:"process",staticStyle:{background:"#e7f314"},style:{width:180*(t.industry_elect.val/Math.floor(t.industry_elect.max)>=1?1:t.industry_elect.val/Math.floor(t.industry_elect.max))+"px"}}),t._v(" "),a("strong",{staticClass:"proc_txt"},[t._v(t._s(t.toLarge(Math.floor(t.industry_elect.val)))+" / "+t._s(t.toLarge(Math.floor(t.industry_elect.max))))])])])]),t._v(" "),a("div",{staticClass:"info_bar",on:{"!mouseenter":function(e){return e.stopPropagation(),t.itemOver(e,t.industry_thread)}}},[a("span",{staticStyle:{float:"left",width:"140px"}},[t._v("工业线程:")]),a("span",{staticStyle:{float:"right"}},[a("div",{staticClass:"proc_bar"},[a("div",{staticClass:"process",style:{width:180*(t.industry_thread.val/Math.floor(t.industry_thread.max)>=1?1:t.industry_thread.val/Math.floor(t.industry_thread.max))+"px"}}),t._v(" "),a("strong",{staticClass:"proc_txt"},[t._v(t._s(t.toLarge(Math.floor(t.industry_thread.val)))+" / "+t._s(t.toLarge(Math.floor(t.industry_thread.max))))])])])]),t._v(" "),a("div",{staticClass:"info_bar",on:{"!mouseenter":function(e){return e.stopPropagation(),t.itemOver(e,t.industry_open)}}},[a("span",{staticStyle:{float:"left",width:"140px"}},[t._v("物流通畅:")]),a("span",{staticStyle:{float:"right"}},[a("div",{staticClass:"proc_bar"},[a("div",{staticClass:"process",staticStyle:{background:"#50e220"},style:{width:180*(t.industry_open.val/Math.floor(t.industry_open.max)>=1?1:t.industry_open.val/Math.floor(t.industry_open.max))+"px"}}),t._v(" "),a("strong",{staticClass:"proc_txt"},[t._v(t._s(t.toLarge(Math.floor(t.industry_open.val)))+" / "+t._s(t.toLarge(Math.floor(t.industry_open.max))))])])])])])]),t._v(" "),a("div",{staticClass:"bottom_menu",staticStyle:{width:"70%"}},[a("div",{staticStyle:{height:"auto","background-color":"#efeeee","border-top":"1px solid var(--separator-color)"}},[a("filterbox",{staticStyle:{"border-bottom":"1px solid var(--separator-color)"},attrs:{items:t.factrep,"min-items":"1"},model:{value:t.repfiltered,callback:function(e){t.repfiltered=e},expression:"repfiltered"}}),t._v(" "),a("div",t._l(t.repfiltered,(function(e){return a("div",{key:e.id,staticClass:"repii",on:{"!mouseenter":function(a){return a.stopPropagation(),t.itemOver(a,e)}}},[a("div",{staticStyle:{display:"flex","align-items":"center",width:"70%"}},[a("span",{staticStyle:{width:"30%"},style:{color:t.change_color_id(e)}},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticStyle:{width:"25%"}},[t._v(t._s(e.val)+" / "+t._s(t.target_rp(e.thread_use).max))]),t._v(" "),a("span",{staticStyle:{width:"20%"}},[t._v(t._s(t.toLarge(Math.floor(e.val*e.mod.industry_space)))+"地")]),t._v(" "),a("span",{staticStyle:{width:"20%"}},[t._v(t._s(t.toLarge(Math.floor(e.val*e.mod.industry_elect)))+"电")]),t._v(" "),a("span",{staticStyle:{width:"23%"}},[t._v(t._s(t.target_rp(e.thread_use).name))])]),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("button",{attrs:{disabled:!e.canpay(t.Game)},on:{click:function(a){return t.emit("addthread",e)}}},[t._v("增加线程")]),t._v(" "),a("button",{attrs:{disabled:e.val<=0},on:{click:function(t){return e.amount(-1)}}},[t._v("减少线程")])])])})),0)],1)])])])};i._withStripped=!0;var s=a(45),r=a(87),o=(a(18),a(57)),n=(a(21),a(4)),l=a(38),c={props:["state"],mixins:[a(20).a,l.a],components:{progbar:s.a,running:r.a},data:()=>({filtered:null,repfiltered:null,produ_show:!0,selectClassEnd:"NONE",select_class_id:""}),components:{inv:()=>a.e(12).then(a.bind(null,282)),filterbox:o.a},computed:{factclass(){return n.c.state.factclass.filter(t=>!this.alocked(t))},factorys(){return n.c.state.factory.filter(t=>!this.alocked(t))},factrep(){return n.c.state.factrecipe.filter(t=>0!=t.val&&!this.alocked(t))},industry_space:()=>n.c.state.getData("industry_space"),industry_elect:()=>n.c.state.getData("industry_elect"),industry_thread:()=>n.c.state.getData("industry_thread"),industry_open:()=>n.c.state.getData("industry_open"),target_rp_info(){return n.c.state.getData(this.select_class_id)},BUY:()=>TRY_BUY},methods:{factrecipe(t){return n.c.state.factrecipe.filter(e=>e.hasTag(t.follow)&&!this.alocked(e))},target_rp:t=>n.c.state.getData(t),change_color:t=>t>0?"#0fcb0f":0==t?"black":"red",change_color_id(t){if(!t.rp_target)return"black";{let e=n.c.state.getData(t.rp_target),a=1;if(e.stop_follow||e.max_follow){if(e.stop_follow)for(let t=e.stop_follow.length-1;t>=0;t--)n.c.state.getData(e.stop_follow[t]).val<=1&&(a=0);if(e.max_follow)for(let t=e.max_follow.length-1;t>=0;t--)n.c.state.getData(e.max_follow[t]).val>=n.c.state.getData(e.max_follow[t]).max&&(a=0);return 1==a?"#0fcb0f":"red"}}},selectClass(t){this.select_class_id=t.target.value},toLarge(t){if(t>=1){const e=["","K","M","B","T","P","E","Z","Y","BB","N","D"];let a=1;if(t<0&&(a=-1,t=-t),t<=1)return a;let i=Math.floor((Math.log10(t)-1)/3);return i<1?a*t:a*Math.round(t/Math.pow(10,3*i))+e[i]}return t}}},d=(a(226),a(7)),p=Object(d.a)(c,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_color"},[e("span",[this._v("模式描述")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"title_color"},[e("span",[this._v("模式线程")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"title_color"},[e("span",[this._v("模式修正")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"20px",display:"flex","justify-content":"center","border-bottom":"1px solid var(--separator-color)","border-top":"1px solid var(--separator-color)"}},[e("span",[this._v("当前模型信息")])])}],!1,null,"456c1a24",null);p.options.__file="src/ui/sections/factmode.vue";e.default=p.exports}}]);